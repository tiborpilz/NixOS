# Add Nix Path
# set -g default-command "exec $HOME/.nix-profile/bin/bash"
set-environment -g 'PATH' "$HOME/.nix-profile/bin:$PATH"

# Misc Settings
set -g mode-keys vi
set -g base-index 1
set -g monitor-activity off
set -g visual-activity on
set -g status-interval 1
set -g focus-events on
set -g renumber-windows on
set -g escape-time 0

bind P paste-buffer
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X copy-selection
bind-key -T copy-mode-vi r send-keys -X rectangle-toggle
bind-key r source-file $XDG_CONFIG_HOME/tmux/tmux.conf

# Mouse
set -g mouse on

# Easy reloading for testing
bind r source-file $HOME/.config/tmux/tmux.conf

# Vim-like pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Attach current directory to session
bind a attach -c "#{pane_current_path}"

# Fix duplicated Characters in zsh (https://stackoverflow.com/questions/45931164/duplicated-characters-and-non-updating-input-using-tmux-in-zsh)
set -g default-terminal "screen-256color"

# Design
## Bar
set -g status-position top
set -g status-justify centre
set -g status-bg colour8
set -g status-fg white

set -g window-status-format ' #W '
set -g window-status-current-style 'bg=default,fg=colour4'
set -g window-status-current-format ' #W '

set -g status-right-length 40
set -g status-right '#(gitmux "#{pane_current_path}")'
